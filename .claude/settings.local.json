{
  "permissions": {
    "allow": [
      "Bash(tree:*)",
      "Bash(python main.py:*)",
      "Bash(python -m pip install:*)",
      "Bash(conda install:*)",
      "Bash(python -c:*)",
      "Bash(where:*)",
      "Bash(py -0p:*)",
      "Bash(python:*)",
      "Bash(winget install:*)",
      "Bash(py:*)",
      "Bash(venvScriptspython.exe -m pip install fiona trimesh numpy pandas --quiet)",
      "Bash(\"c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\venv\\\\Scripts\\\\python.exe\" -m pip install fiona trimesh numpy pandas)",
      "Bash(\"c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\venv\\\\Scripts\\\\python.exe\" -m pip install:*)",
      "Bash(\"c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\venv\\\\Scripts\\\\python.exe\" -c \"\nimport rasterio\nimport numpy as np\n\ntif_path = r''D:\\\\SwissRS\\\\SWISSIMAGE-RS_25cm_Example.tif''\n\nwith rasterio.open\\(tif_path\\) as src:\n    print\\(''=== SWISSIMAGE-RS Metadata ===''\\)\n    print\\(f''Driver: {src.driver}''\\)\n    print\\(f''Width x Height: {src.width} x {src.height}''\\)\n    print\\(f''Number of bands: {src.count}''\\)\n    print\\(f''CRS: {src.crs}''\\)\n    print\\(f''Bounds: {src.bounds}''\\)\n    print\\(f''Resolution: {src.res}''\\)\n    print\\(f''Data types: {src.dtypes}''\\)\n    print\\(f''NoData values: {src.nodatavals}''\\)\n    \n    print\\(f''\\\\n=== Band Descriptions ===''\\)\n    for i in range\\(1, src.count + 1\\):\n        desc = src.descriptions[i-1] if src.descriptions else None\n        print\\(f''Band {i}: {desc}''\\)\n    \n    print\\(f''\\\\n=== Band Statistics ===''\\)\n    for i in range\\(1, src.count + 1\\):\n        band = src.read\\(i\\)\n        print\\(f''Band {i}: min={band.min\\(\\)}, max={band.max\\(\\)}, mean={band.mean\\(\\):.2f}''\\)\n    \n    # Check for color interpretation\n    print\\(f''\\\\n=== Color Interpretation ===''\\)\n    for i, interp in enumerate\\(src.colorinterp, 1\\):\n        print\\(f''Band {i}: {interp}''\\)\n    \n    # Check tags/metadata\n    print\\(f''\\\\n=== Tags/Metadata ===''\\)\n    print\\(src.tags\\(\\)\\)\n\")",
      "Bash(\"c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\venv\\\\Scripts\\\\python.exe\" -c:*)",
      "Bash(venvScriptspython -c \"\nimport fiona\nimport numpy as np\n\n# SWISSIMAGE-RS coverage bounds \\(from previous analysis\\)\nrs_west = 2621243.25\nrs_east = 2623243.50\nrs_south = 1091794.50\nrs_north = 1093794.75\n\ngdb_path = r''C:\\\\BBL DEV\\\\Data\\\\swissbuildings3d_3_0_2025_2056_5728\\\\SWISSBUILDINGS3D_3_0.gdb''\n\nprint\\(''Checking for buildings within SWISSIMAGE-RS coverage area...''\\)\nprint\\(f''Coverage: X=[{rs_west:.0f}, {rs_east:.0f}], Y=[{rs_south:.0f}, {rs_north:.0f}]''\\)\nprint\\(\\)\n\n# Count buildings in the area\nbuildings_in_area = []\ntotal_checked = 0\n\nwith fiona.open\\(gdb_path, layer=''Building_solid''\\) as src:\n    for feature in src:\n        total_checked += 1\n        if total_checked > 100000:  # Limit search\n            break\n            \n        geom = feature[''geometry'']\n        if geom and ''coordinates'' in geom:\n            # Get first coordinate to check location\n            coords = geom[''coordinates'']\n            if coords and len\\(coords\\) > 0:\n                # Navigate to actual coordinates\n                first_coord = coords\n                while isinstance\\(first_coord, list\\) and len\\(first_coord\\) > 0:\n                    if isinstance\\(first_coord[0], \\(int, float\\)\\):\n                        break\n                    first_coord = first_coord[0]\n                \n                if isinstance\\(first_coord, list\\) and len\\(first_coord\\) >= 2:\n                    x, y = first_coord[0], first_coord[1]\n                    if rs_west <= x <= rs_east and rs_south <= y <= rs_north:\n                        buildings_in_area.append\\({\n                            ''uuid'': feature[''properties''].get\\(''UUID'', ''unknown''\\),\n                            ''type'': feature[''properties''].get\\(''OBJEKTART'', ''unknown''\\),\n                            ''x'': x,\n                            ''y'': y\n                        }\\)\n        \n        if total_checked % 10000 == 0:\n            print\\(f''Checked {total_checked} buildings, found {len\\(buildings_in_area\\)} in area...''\\)\n\nprint\\(\\)\nprint\\(f''=== Results ===''\\)\nprint\\(f''Total buildings checked: {total_checked}''\\)\nprint\\(f''Buildings in SWISSIMAGE-RS area: {len\\(buildings_in_area\\)}''\\)\n\nif buildings_in_area:\n    print\\(\\)\n    print\\(''Sample buildings found:''\\)\n    for b in buildings_in_area[:10]:\n        print\\(f''  - {b[\"\"uuid\"\"][:20]}... \\({b[\"\"type\"\"]}\\) at \\({b[\"\"x\"\"]:.0f}, {b[\"\"y\"\"]:.0f}\\)''\\)\n\")",
      "Bash(c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\venv\\\\Scripts\\\\python.exe:*)",
      "Bash(cmd /c \"c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\venv\\\\Scripts\\\\python.exe c:\\\\Users\\\\DavidRasner\\\\Documents\\\\GitHub\\\\OpenBuildings\\\\workers\\\\roof-estimator\\\\python\\\\check_coverage.py\")",
      "Bash(powershell -Command:*)"
    ]
  }
}
